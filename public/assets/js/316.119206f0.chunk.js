"use strict";(self.webpackChunkonboard=self.webpackChunkonboard||[]).push([[316],{7441:function(e,n,t){t.d(n,{SL:function(){return s},vs:function(){return r},b6:function(){return i}});var r,i,a=t(43334),o=t(40057),c=t(81163);function s(e){var n=e.id,t=void 0===n?"":n,s=e.className,l=e.options,u=e.onChange,d=e.currentValue,h=void 0===d?null:d,p=e.orientation,k=void 0===p?r.Horizontal:p,f=e.theme,x=void 0===f?i.Default:f,m=(0,a.useCallback)((function(e){var n=l.find((function(n){return n.value===e.target.value}));u((null==n?void 0:n.value)||null)}),[l,u]);return(0,c.jsx)("div",{id:t,className:(0,o.Z)("switch-field","switch-orientation-".concat(k),"switch-theme-".concat(x),s),children:l.map((function(e,n){return(0,c.jsxs)(a.Fragment,{children:[(0,c.jsx)("input",{type:"radio",id:"".concat(t,"-radio-").concat(e.value),name:"".concat(t,"-switch"),value:String(e.value),checked:h?h===e.value:void 0,onChange:m}),(0,c.jsx)("label",{htmlFor:"".concat(t,"-radio-").concat(e.value),children:e.label})]},n)}))})}!function(e){e.Horizontal="horizontal",e.Vertical="vertical"}(r||(r={})),function(e){e.Default="default",e.Large="large"}(i||(i={}))},99316:function(e,n,t){t.r(n),t.d(n,{default:function(){return b}});var r=t(29439),i=t(43334),a=t(40057),o=t(1293),c=t(49609),s=t(81163);function l(e){return(0,s.jsx)("div",{className:"page-header",children:e.children})}var u=t(83013),d=t(7441),h=t(65720),p=t(17958);function k(e){var n=e.i,t=e.token,r="tokenizer-tkn tokenizer-tkn-".concat(n%5);if(t.includes("\n")){var i=[],a=t.split("\n");return a.forEach((function(e,n){""!==e&&i.push((0,s.jsx)("span",{className:r,children:e},"sub-".concat(n))),n!==a.length-1&&i.push((0,s.jsx)("br",{},"br-".concat(n)))})),(0,s.jsx)("span",{children:i})}return(0,s.jsx)("span",{className:r,children:t})}var f=t(94983),x="\næ¨¡å‹çˆ±å¥½è€…ï¼Œä½ å¥½å‘€ğŸ‘‹\n\nMany words map to one token, but some don't: indivisible.\n\nUnicode characters like emojis may be split into many tokens containing the underlying bytes: ğŸ¤šğŸ¾\n\nSequences of characters commonly found next to each other may be grouped together: 1234567890".trim(),m={current:{label:"GPT-3.5 & GPT-4",encoding:"cl100k_base"},gpt3:{label:"GPT-3 (Legacy)",encoding:"gpt2"}},v={text:"text",bpe:"bpe"},g=[{value:v.text,label:"Text"},{value:v.bpe,label:"Token IDs"}],b=function(){var e=(0,o.UO)(),n=(0,i.useState)(""),t=(0,r.Z)(n,2),b=t[0],j=t[1],z=(0,i.useState)(!1),T=(0,r.Z)(z,2),y=T[0],N=T[1],C=(0,i.useState)(v["bpe"===e.view?"bpe":"text"]?e.view:v.text),w=(0,r.Z)(C,2),S=w[0],P=w[1],Z=(0,f.h)(m[e.encoding]?e.encoding:m.current.encoding),G=Z.isLoading,_=Z.isTokenizing,E=Z.tokens,L=Z.charCount,O=Z.encodingType,I=Z.setEncodingType,M=Z.tokenizer,D=Z.runTokenizer;(0,i.useEffect)((function(){M&&b&&(b.length>5e4?(N(!0),D(M,"")):(N(!1),D(M,b)))}),[M,D,b]);var A=(0,i.useCallback)((function(e){j(e)}),[]),H=(0,i.useCallback)((function(e){A(e.target.value)}),[A]),V=(0,i.useCallback)((function(){A("")}),[A]),q=(0,i.useCallback)((function(){A(x)}),[A]),F=(0,i.useCallback)((function(e){P(e)}),[]),U=b===x,J=(0,i.useMemo)((function(){return E&&E.text.some((function(e){return e.includes(String.fromCharCode(65533))}))}),[E]);return(0,s.jsxs)("div",{className:"page-body page-tokenizer",children:[(0,s.jsx)(l,{children:(0,s.jsx)("h1",{children:"åˆ†è¯å™¨ (Tokenizer)"})}),(0,s.jsxs)("p",{children:["ç¨‹åºæ±‰åŒ–è‡ª ",(0,s.jsx)("a",{href:"https://platform.openai.com/tokenizer",target:"_blank",rel:"noopener noreferrer",children:" OpenAI Tokenizer"})," é¡µé¢ï¼Œæ±‰åŒ–ä½œè€…ï¼šè‹æ´‹ (soulteary)ã€‚"]}),(0,s.jsxs)("p",{className:"welcome", children:["æ¬¢è¿åœ¨ ",(0,s.jsx)("a",{href:"https://link.baai.ac.cn/@21",target:"_blank",rel:"noopener noreferrer",children:"æ™ºæºç¤¾åŒº",className:"link-baai",}),"ï¼Œ",(0,s.jsx)("a",{href:"https://www.zhihu.com/people/soulteary",target:"_blank",rel:"noopener noreferrer",children:"çŸ¥ä¹ä¸“æ ",className:"link-zhihu"})," æˆ– ",(0,s.jsx)("a",{href:"https://github.com/soulteary/ai-token-calculator",target:"_blank",rel:"noopener noreferrer",children:"GitHub Issue",className:"link-github"})," åé¦ˆå…³äºè¿™ä¸ªå°å·¥å…·çš„é—®é¢˜ã€‚"]}),(0,s.jsx)("h3",{children:"è®©æˆ‘ä»¬æ¥å­¦ä¹ å’Œäº†è§£å¤§è¯­è¨€æ¨¡å‹çš„åˆ†è¯æœºåˆ¶ (tokenization)"}),(0,s.jsxs)("p",{children:["OpenAI çš„å¤§å‹è¯­è¨€æ¨¡å‹ï¼ˆä¹Ÿè¢«ç§°ä¸º GPTï¼‰ä½¿ç”¨",(0,s.jsx)("strong",{children:" è¯å…ƒ (tokens) "}),"æ¥å¯¹æ–‡æœ¬å†…å®¹è¿›è¡Œå¤„ç†ï¼Œè¯å…ƒå¯ä»¥æ˜¯ä»»ä½•ä¸€ç»„æ–‡æœ¬ä¸­èƒ½å¤Ÿè¢«æ‰¾åˆ°çš„å¸¸è§å­—ç¬¦åºåˆ—ã€‚å¤§è¯­è¨€æ¨¡å‹å­¦ä¹ å’Œç†è§£è¿™äº›è¯å…ƒä¹‹é—´çš„ç»Ÿè®¡å…³ç³»ï¼Œå¹¶ä¸”æ“…é•¿äºæ ¹æ®æ–‡æœ¬ä¸­å½“å‰è¯å…ƒçš„æƒ…å†µï¼Œç”Ÿæˆåºåˆ—ä¸­çš„ä¸‹ä¸€ä¸ªè¯å…ƒã€‚"]}),(0,s.jsx)("p",{children:"ä½ å¯ä»¥ä½¿ç”¨ä¸‹é¢çš„å·¥å…·æ¥äº†è§£ä»»æ„æ–‡æœ¬å†…å®¹æ˜¯å¦‚ä½•è¢«è¯­è¨€æ¨¡å‹è¿›è¡Œåˆ†è¯çš„ï¼Œä»¥åŠåœ¨è¯¥æ–‡æœ¬ç‰‡æ®µä¸­çš„æ€»è¯å…ƒæ•°é‡ã€‚"}),(0,s.jsx)("p",{children:"éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œè¯å…ƒæ•°é‡çš„è®¡ç®—å› ä¸åŒæ¨¡å‹åˆ†è¯ç®—æ³•è€Œæœ‰åŒºåˆ«ã€‚æ¯”å¦‚åœ¨ GPT-3.5 å’Œ GPT-4 ä¸­çš„è®¡ç®—æ–¹å¼ï¼Œå’Œæ¯”è¾ƒæ—§çš„æ¨¡å‹ï¼Œè¯¸å¦‚ GPT-3 å’Œ Codex ä¸­æ˜¯ä¸åŒçš„ã€‚"}),(0,s.jsx)("div",{className:"tokenizer-encodings",children:Object.keys(m).map((function(e){var n=m[e],t=(0,s.jsx)(p.zx,{size:"small",color:p.rp.primary,variant:p.Wu.minimal,onClick:function(){return I(n.encoding)},className:O===n.encoding?"selected":"",children:n.label},e);return"gpt3"===e&&(t=(0,s.jsx)(c.ZP,{content:"æ—§ç‰ˆ GPT-3 æ¨¡å‹ä½¿ç”¨çš„è¯è¡¨æ¯” GPT-3.5 å’Œ GPT-4 æ›´å°ï¼Œå›å¸¦æ¥æ›´å¤šçš„åˆ†è¯ç»“æœã€‚",children:t},e)),t}))}),(0,s.jsx)("div",{className:"tokenizer-input",children:(0,s.jsx)(u.oi,{textarea:!0,onChange:H,value:b,disabled:G,placeholder:"è¯•è¯•çœ‹ï¼Œè¾“å…¥ä¸€äº›å†…å®¹"})}),(0,s.jsxs)("div",{className:"tokenizer-input-actions",children:[(0,s.jsx)(p.zx,{size:"small",color:p.rp.neutral,onClick:V,children:"æ¸…ç©º"}),(0,s.jsx)(p.zx,{size:"small",color:y?p.rp.negative:p.rp.neutral,onClick:q,disabled:U,children:y?"å“¦ï¼Œè¦ä¸æ˜¯è¯•è¯•çŸ­ä¸€äº›çš„ä¾‹å­":"ä¸¾ä¸ªä¾‹å­ ğŸŒ°"})]}),(0,s.jsxs)("div",{className:(0,a.Z)("tokenizer-stats",_&&"tokenizer-dim"),children:[(0,s.jsxs)("div",{className:"tokenizer-stat",children:[(0,s.jsx)("div",{className:"tokenizer-stat-title",children:"è¯æ•°é‡ (Tokens)"}),(0,s.jsx)("div",{className:"tokenizer-stat-val",children:(0,h.OD)(E?E.bpe.length:0)})]}),(0,s.jsxs)("div",{className:"tokenizer-stat",children:[(0,s.jsx)("div",{className:"tokenizer-stat-title",children:"å­—ç¬¦æ•°é‡ (Characters)"}),(0,s.jsx)("div",{className:"tokenizer-stat-val",children:L||0})]})]}),(0,s.jsxs)("div",{className:(0,a.Z)("tokenizer-output",_&&"tokenizer-dim"),children:[E&&E.text.length?S===v.bpe?(0,s.jsx)("span",{className:"tokenizer-bpe",children:"[".concat(E.bpe.join(", "),"]")}):E.text.map((function(e,n){return(0,s.jsx)(k,{i:n,token:e},"tok".concat(n))})):null,(0,s.jsx)(d.SL,{id:"tokenizer-view-switch",className:E&&E.text.length?"visible":void 0,options:g,onChange:F,currentValue:S})]}),!U&&J&&S===v.text&&(0,s.jsxs)("div",{className:"tokenizer-char-warning",children:[(0,s.jsx)("strong",{children:"Note:"})," Your input contained one or more unicode characters that map to multiple tokens. The output visualization may display the bytes in each token in a non-standard way."]}),(0,s.jsx)("p",{children:"ä¸€ä¸ªå°ç»éªŒï¼Œä¸€ä¸ª Token é€šå¸¸çº¦ç­‰äºå¸¸è§è‹±æ–‡æ–‡æœ¬çš„å››ä¸ªå­—ç¬¦é•¿ï¼Œç›¸å½“äºå¤§çº¦ Â¾ ä¸ªå•è¯ï¼ˆå› æ­¤ 100 ä¸ª Token ~= 75 ä¸ªå•è¯ï¼‰ã€‚è€Œå¯¹äºä¸­æ–‡ï¼Œé€šå¸¸æƒ…å†µä¸‹ä¸€ä¸ªä¸­æ–‡å­—ç¬¦ä¼šæ¶ˆè€—ä¸¤ä¸ª Tokenã€‚"}),(0,s.jsxs)("p",{children:["å¦‚æœä½ éœ€è¦åœ¨ç¨‹åºä¸­æ¥è®¡ç®— Token æ•°é‡ï¼Œå¯ä»¥ä½¿ç”¨ OpenAI æä¾›çš„ "," ",(0,s.jsx)("a",{href:"https://github.com/openai/tiktoken",target:"_blank",rel:"noopener noreferrer",children:"tiktoken"})," ","Python è½¯ä»¶åŒ…ã€‚å¦‚æœä½ æ˜¯ JavaScript çˆ±å¥½è€…ï¼Œå¯ä»¥ä½¿ç”¨ç¤¾åŒºç»´æŠ¤çš„ "," ",(0,s.jsx)("a",{href:"https://www.npmjs.com/package/tiktoken",target:"_blank",rel:"noopener noreferrer",children:"@dbdq/tiktoken"})," ","è½¯ä»¶åŒ…ï¼Œå®ƒä»¬æ”¯æŒç»å¤§å¤šæ•°çš„ GPT æ¨¡å‹ã€‚"]})]})}},94983:function(e,n,t){t.d(n,{h:function(){return o}});var r=t(29439),i=t(89427),a=t(43334);function o(e){var n=(0,a.useState)(!0),o=(0,r.Z)(n,2),c=o[0],s=o[1],l=(0,a.useState)(!1),u=(0,r.Z)(l,2),d=u[0],h=u[1],p=(0,a.useState)(null),k=(0,r.Z)(p,2),f=k[0],x=k[1],m=(0,a.useState)(null),v=(0,r.Z)(m,2),g=v[0],b=v[1],j=(0,a.useState)(null),z=(0,r.Z)(j,2),T=z[0],y=z[1],N=(0,a.useState)(e),C=(0,r.Z)(N,2),w=C[0],S=C[1];(0,a.useEffect)((function(){t.e(823).then(t.bind(t,91823)).then((function(e){x(e)})).catch((function(e){console.error(e)})).finally((function(){s(!1)}))}),[]);var P=(0,a.useMemo)((function(){return f?f.getEncoding(w):null}),[f,w]),Z=(0,a.useMemo)((function(){return(0,i.debounce)((function(e,n){var t=e.encode(n),r=t.map((function(n){return e.decode([n])}));b({bpe:t,text:r}),y(n.length),h(!1)}),200)}),[]),G=(0,a.useMemo)((function(){return function(e,n){h(!0),Z(e,n)}}),[Z]);return{isLoading:c,isTokenizing:d,tokens:g,charCount:T,encodingType:w,setEncodingType:S,tokenizer:P,runTokenizer:G}}}}]);